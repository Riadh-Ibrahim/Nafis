<div class="table">
  <section class="table__header">
    <h1>NAFIS Patients</h1>
  </section>
  <section class="table__body">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Profile</th>
          <th>Firstname</th>
          <th>Lastname</th>
          <th>Email</th>
          <th>numeroSecurit√©</th>
          <th>Date De Naissance</th>
          <th>addresse</th>
          <th>phone</th>
          <th>Delete user</th>
          <!-- Conditional headers -->
          @if (isDoctor) {
          <th>mark present</th>
          <th>Status</th>
          } @else if (showRealTimevitals) {
          <th>RealTime vitals</th>
          }
        </tr>
      </thead>

      <tbody>
        @for (patient of patients; track patient.id) {
        <tr>
          <td>{{ patient.id }}</td>
          <td>
            <img
              src="{{
                patient.photoUrl || '../../../../../assets/generic.jpg'
              }}"
              alt="user profile picture"
            />
          </td>
          <td>{{ patient.lastname }}</td>
          <td>{{ patient.firstname }}</td>
          <td>{{ patient.email || "-" }}</td>
          <td>{{ patient.numeroSecu }}</td>
          <td>{{ patient.dateNaissance }}</td>
          <td>{{ patient.adresse }}</td>
          <td>{{ patient.telephone }}</td>
          <td>
            <app-button [variant]="'danger'">Delete</app-button>
          </td>
          <!-- Conditional cells -->
          @if (isDoctor && !showRealTimevitals) {
          <td>
            <app-checkbox [(ngModel)]="patient.status" label=""></app-checkbox>
          </td>
          <td class="status {{ patient.status }}">
            {{ patient.status }}
          </td>
          } @if (showRealTimevitals) {
          <td>
            <app-button [routerLink]="['/patient-chart']" [variant]="'add'"
              >Access</app-button
            >
          </td>
          }
        </tr>
        }
      </tbody>
    </table>
  </section>
</div>
